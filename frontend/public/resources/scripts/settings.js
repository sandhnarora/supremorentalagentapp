"use strict";

// Set client auth mode - true to enable client auth, false to disable it
const isClientAuthEnabled = false;

/**
 * Initializes the SDK and sets a global field with passed name for which
 * it can be referred to later.
 *
 * @param {string} name Name by which the chat widget should be referred
 */
const initSdk = (name) => {
	if (!name) {
		name = "Bots"; // Set default reference name to 'Bots'
	}
	let Bots;

	setTimeout(() => {
		/**
		 * SDK configuration settings
		 * Other than URI, all fields are optional with two exceptions for auth modes
		 * In client auth disabled mode, 'channelId' must be passed, 'userId' is optional
		 * In client auth enabled mode, 'clientAuthEnabled: true' must be passed
		 */
		let chatWidgetSettings = {
			height: '79vh', //layout modification property
            width: '32vw',  //layout modification property
			"colors": {    //custom colors property  
                // "branding": "#1B8FD2",
				"text": "#212121", 
				"textLight": "#737373",
				"branding": "#FFF",
				// "text": "#545454",
            },
			URI: "oda-9b979b21c0ba470c95f657958f12122e-da2.data.digitalassistant.oci.oraclecloud.com",
			//secretKey:"tdP8VYsJvEANPuUMKSxiQx5aba6MgOyQ",
			clientAuthEnabled: isClientAuthEnabled,
			channelId:	"a189754e-5172-425d-86cb-e89ef0c07dc0",// "fb742336-6643-4ea8-a3f6-f2226edfff2d",  //"185e9844-1033-43d9-b897-24cbd6f907ec",
			showConnectionStatus: true,
			openChatOnLoad: false,
			conversationBeginPosition: "bottom",
			position: { bottom: "2px", right: "2px" },
			displayActionsAsPills: true,

			theme: "vital",
			enableAttachment: true,
			displayActionsAsPills: true,
			
			icons: {
                avatarBot: 'data:image/svg+xml;base64, PHN2ZyB3aWR0aD0iNDA0IiBoZWlnaHQ9IjM2OCIgdmlld0JveD0iMCAwIDQwNCAzNjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjEzNiIgeT0iMzM1IiB3aWR0aD0iMTMyIiBoZWlnaHQ9IjMzIiBmaWxsPSIjRjlCQTMwIi8+CjxwYXRoIGQ9Ik0xNTMuMjU2IDIuMzY3NEMxNjMuODkgLTIuMjYwNDcgMTc2LjI2MyAyLjYwODgyIDE4MC44OTEgMTMuMjQzNEMxODQuNTM5IDIxLjYyNzMgMTgyLjI4MyAzMS4wODk1IDE3NS45NTUgMzYuOTg3NUwxOTEuMDgxIDcxLjc0NjNDMTkzLjM3NCA3MS4zOTk2IDE5NS43MSA3MS4xNjYxIDE5OC4wODIgNzEuMDUxVjU3LjYzODlDMTkzLjk1NyA1Ni4xODAzIDE5MSA1Mi4yNDgzIDE5MSA0Ny42MjMzQzE5MSA0MS43NTYyIDE5NS43NTYgMzcuMDAwMiAyMDEuNjIzIDM3LjAwMDJDMjA3LjQ5IDM3LjAwMDIgMjEyLjI0NiA0MS43NTYzIDIxMi4yNDYgNDcuNjIzM0MyMTIuMjQ2IDUyLjA1NjkgMjA5LjUyOSA1NS44NTM4IDIwNS42NyA1Ny40NDU1VjcxLjA5MUMyMDguMzkxIDcxLjI1MjUgMjExLjA2NCA3MS41NzAzIDIxMy42NzcgNzIuMDM1NEwyMjguMDYzIDM4Ljk3NThDMjIxLjczNiAzMy4wNzc3IDIxOS40ODEgMjMuNjE0NCAyMjMuMTI5IDE1LjIzMDdDMjI3Ljc1NyA0LjU5NjE4IDI0MC4xMyAtMC4yNzMxODcgMjUwLjc2NSA0LjM1NDcxQzI2MS4zOTkgOC45ODI2OSAyNjYuMjY5IDIxLjM1NTkgMjYxLjY0MSAzMS45OTA1QzI1OC4xNDMgNDAuMDI3OCAyNTAuMjIxIDQ0Ljc2OTUgMjQxLjk3IDQ0LjYwOTZMMjI4LjE2MSA3Ni4zNDFDMjM0LjkzMSA3OS4yMzE1IDI0MS4wMTEgODMuMTg5NCAyNDYuMTI1IDg3Ljk2N0gyNzlDMzI4Ljg2NCA4Ny45NjcgMzcwLjIwMiAxMjQuNDY0IDM3Ny43NjIgMTcyLjIwMkMzOTIuNTU1IDE3NC4wNTMgNDA0IDE4Ni42NzMgNDA0IDIwMS45NjhWMjI5Ljk2OEM0MDQgMjQ0Ljk2MiAzOTMgMjU3LjM4NiAzNzguNjI5IDI1OS42MTJDMzc0LjI0NyAzMTAuNzkzIDMzMS4zMTYgMzUwLjk2NyAyNzkgMzUwLjk2N0gxMjNDNzAuNTUxNyAzNTAuOTY3IDI3LjUzNiAzMTAuNTkgMjMuMzM3OSAyNTkuMjI0QzkuOTc1ODcgMjU2LjE5NCAxLjExMDUxZS0wNyAyNDQuMjQ3IDAgMjI5Ljk2OFYyMDEuOTY4QzAgMTg3LjM4OSAxMC4zOTk0IDE3NS4yNCAyNC4xODQ2IDE3Mi41MzJDMzEuNjA1OSAxMjQuNjMzIDczLjAyMDggODcuOTY3IDEyMyA4Ny45NjdIMTU2Ljg3NUMxNjIuMzg4IDgyLjgxNjUgMTY5LjAyNCA3OC42MTg4IDE3Ni40MzcgNzUuNjgzOEwxNjIuMDQ4IDQyLjYyMjNDMTUzLjc5NyA0Mi43ODEyIDE0NS44NzcgMzguMDM4OCAxNDIuMzggMzAuMDAyMkMxMzcuNzUyIDE5LjM2NzYgMTQyLjYyMSA2Ljk5NTMgMTUzLjI1NiAyLjM2NzRaIiBmaWxsPSIjRjlCQTMwIi8+CjxwYXRoIGQ9Ik0yNi41IDE5MkMyNi41IDEzNi43NzIgNzEuMjcxNSA5MiAxMjYuNSA5MkgxNjAuNUMxNjAuNSA5MiA3NyA5Ni44NjY5IDc3IDIyMEM3NyAzNDMuMTMzIDE2MC41IDM0OCAxNjAuNSAzNDhIMTI2LjVDNzEuMjcxNSAzNDggMjYuNSAzMDMuMjI4IDI2LjUgMjQ4VjE5MloiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNDIiLz4KPHBhdGggZD0iTTkxIDIxOC41QzkxIDE5MC4wNTcgMTE0LjA1NyAxNjcgMTQyLjUgMTY3SDE0NUMxNDUgMTY3IDExMS4zNTEgMTY4Ljk1OCAxMTEuMzUxIDIxOC41QzExMS4zNTEgMjY4LjA0MiAxNDUgMjcwIDE0NSAyNzBIMTQyLjVDMTE0LjA1NyAyNzAgOTEgMjQ2Ljk0MyA5MSAyMTguNVYyMTguNVoiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNDIiLz4KPHBhdGggZD0iTTMxNCAyMTguNUMzMTQgMTkwLjA1NyAyOTAuOTQzIDE2NyAyNjIuNSAxNjdIMjYwQzI2MCAxNjcgMjkzLjY0OSAxNjguOTU4IDI5My42NDkgMjE4LjVDMjkzLjY0OSAyNjguMDQyIDI2MCAyNzAgMjYwIDI3MEgyNjIuNUMyOTAuOTQzIDI3MCAzMTQgMjQ2Ljk0MyAzMTQgMjE4LjVWMjE4LjVaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIwLjQyIi8+CjxwYXRoIGQ9Ik0zNzcgMTkyQzM3NyAxMzYuNzcyIDMzMi4yMjggOTIgMjc3IDkySDI0M0MyNDMgOTIgMzI2LjUgOTYuODY2OSAzMjYuNSAyMjBDMzI2LjUgMzQzLjEzMyAyNDMgMzQ4IDI0MyAzNDhIMjc3QzMzMi4yMjggMzQ4IDM3NyAzMDMuMjI4IDM3NyAyNDhWMTkyWiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC40MiIvPgo8cGF0aCBkPSJNMTQ0IDMxOEM4OSAzMTggNDUgMjc0IDQ1IDIxOUM0NSAxNjQgODkgMTIwIDE0NCAxMjBIMjYwQzMxNSAxMjAgMzU5IDE2NCAzNTkgMjE5QzM1OSAyNzQgMzE1IDMxOCAyNjAgMzE4SDE0NFpNMjU3IDI4M0MyOTMgMjgzIDMyMSAyNTQgMzIxIDIxOUMzMjEgMTgzIDI5MiAxNTUgMjU3IDE1NUgxNDdDMTExIDE1NSA4MyAxODQgODMgMjE5QzgzIDI1NCAxMTIgMjgzIDE0NyAyODNIMjU3WiIgZmlsbD0iI0M3NDYzNCIvPgo8Y2lyY2xlIGN4PSIxNDEiIGN5PSIyMTkiIHI9IjIxIiBmaWxsPSJ3aGl0ZSIvPgo8Y2lyY2xlIGN4PSIyNjQiIGN5PSIyMTkiIHI9IjIxIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K',
                avatarUser: 'https://e7.pngegg.com/pngimages/178/595/png-clipart-user-profile-computer-icons-login-user-avatars-monochrome-black-thumbnail.png',
                logo: 'data:image/svg+xml;base64, PHN2ZyB3aWR0aD0iNDA0IiBoZWlnaHQ9IjM2OCIgdmlld0JveD0iMCAwIDQwNCAzNjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjEzNiIgeT0iMzM1IiB3aWR0aD0iMTMyIiBoZWlnaHQ9IjMzIiBmaWxsPSIjRjlCQTMwIi8+CjxwYXRoIGQ9Ik0xNTMuMjU2IDIuMzY3NEMxNjMuODkgLTIuMjYwNDcgMTc2LjI2MyAyLjYwODgyIDE4MC44OTEgMTMuMjQzNEMxODQuNTM5IDIxLjYyNzMgMTgyLjI4MyAzMS4wODk1IDE3NS45NTUgMzYuOTg3NUwxOTEuMDgxIDcxLjc0NjNDMTkzLjM3NCA3MS4zOTk2IDE5NS43MSA3MS4xNjYxIDE5OC4wODIgNzEuMDUxVjU3LjYzODlDMTkzLjk1NyA1Ni4xODAzIDE5MSA1Mi4yNDgzIDE5MSA0Ny42MjMzQzE5MSA0MS43NTYyIDE5NS43NTYgMzcuMDAwMiAyMDEuNjIzIDM3LjAwMDJDMjA3LjQ5IDM3LjAwMDIgMjEyLjI0NiA0MS43NTYzIDIxMi4yNDYgNDcuNjIzM0MyMTIuMjQ2IDUyLjA1NjkgMjA5LjUyOSA1NS44NTM4IDIwNS42NyA1Ny40NDU1VjcxLjA5MUMyMDguMzkxIDcxLjI1MjUgMjExLjA2NCA3MS41NzAzIDIxMy42NzcgNzIuMDM1NEwyMjguMDYzIDM4Ljk3NThDMjIxLjczNiAzMy4wNzc3IDIxOS40ODEgMjMuNjE0NCAyMjMuMTI5IDE1LjIzMDdDMjI3Ljc1NyA0LjU5NjE4IDI0MC4xMyAtMC4yNzMxODcgMjUwLjc2NSA0LjM1NDcxQzI2MS4zOTkgOC45ODI2OSAyNjYuMjY5IDIxLjM1NTkgMjYxLjY0MSAzMS45OTA1QzI1OC4xNDMgNDAuMDI3OCAyNTAuMjIxIDQ0Ljc2OTUgMjQxLjk3IDQ0LjYwOTZMMjI4LjE2MSA3Ni4zNDFDMjM0LjkzMSA3OS4yMzE1IDI0MS4wMTEgODMuMTg5NCAyNDYuMTI1IDg3Ljk2N0gyNzlDMzI4Ljg2NCA4Ny45NjcgMzcwLjIwMiAxMjQuNDY0IDM3Ny43NjIgMTcyLjIwMkMzOTIuNTU1IDE3NC4wNTMgNDA0IDE4Ni42NzMgNDA0IDIwMS45NjhWMjI5Ljk2OEM0MDQgMjQ0Ljk2MiAzOTMgMjU3LjM4NiAzNzguNjI5IDI1OS42MTJDMzc0LjI0NyAzMTAuNzkzIDMzMS4zMTYgMzUwLjk2NyAyNzkgMzUwLjk2N0gxMjNDNzAuNTUxNyAzNTAuOTY3IDI3LjUzNiAzMTAuNTkgMjMuMzM3OSAyNTkuMjI0QzkuOTc1ODcgMjU2LjE5NCAxLjExMDUxZS0wNyAyNDQuMjQ3IDAgMjI5Ljk2OFYyMDEuOTY4QzAgMTg3LjM4OSAxMC4zOTk0IDE3NS4yNCAyNC4xODQ2IDE3Mi41MzJDMzEuNjA1OSAxMjQuNjMzIDczLjAyMDggODcuOTY3IDEyMyA4Ny45NjdIMTU2Ljg3NUMxNjIuMzg4IDgyLjgxNjUgMTY5LjAyNCA3OC42MTg4IDE3Ni40MzcgNzUuNjgzOEwxNjIuMDQ4IDQyLjYyMjNDMTUzLjc5NyA0Mi43ODEyIDE0NS44NzcgMzguMDM4OCAxNDIuMzggMzAuMDAyMkMxMzcuNzUyIDE5LjM2NzYgMTQyLjYyMSA2Ljk5NTMgMTUzLjI1NiAyLjM2NzRaIiBmaWxsPSIjRjlCQTMwIi8+CjxwYXRoIGQ9Ik0yNi41IDE5MkMyNi41IDEzNi43NzIgNzEuMjcxNSA5MiAxMjYuNSA5MkgxNjAuNUMxNjAuNSA5MiA3NyA5Ni44NjY5IDc3IDIyMEM3NyAzNDMuMTMzIDE2MC41IDM0OCAxNjAuNSAzNDhIMTI2LjVDNzEuMjcxNSAzNDggMjYuNSAzMDMuMjI4IDI2LjUgMjQ4VjE5MloiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNDIiLz4KPHBhdGggZD0iTTkxIDIxOC41QzkxIDE5MC4wNTcgMTE0LjA1NyAxNjcgMTQyLjUgMTY3SDE0NUMxNDUgMTY3IDExMS4zNTEgMTY4Ljk1OCAxMTEuMzUxIDIxOC41QzExMS4zNTEgMjY4LjA0MiAxNDUgMjcwIDE0NSAyNzBIMTQyLjVDMTE0LjA1NyAyNzAgOTEgMjQ2Ljk0MyA5MSAyMTguNVYyMTguNVoiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNDIiLz4KPHBhdGggZD0iTTMxNCAyMTguNUMzMTQgMTkwLjA1NyAyOTAuOTQzIDE2NyAyNjIuNSAxNjdIMjYwQzI2MCAxNjcgMjkzLjY0OSAxNjguOTU4IDI5My42NDkgMjE4LjVDMjkzLjY0OSAyNjguMDQyIDI2MCAyNzAgMjYwIDI3MEgyNjIuNUMyOTAuOTQzIDI3MCAzMTQgMjQ2Ljk0MyAzMTQgMjE4LjVWMjE4LjVaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIwLjQyIi8+CjxwYXRoIGQ9Ik0zNzcgMTkyQzM3NyAxMzYuNzcyIDMzMi4yMjggOTIgMjc3IDkySDI0M0MyNDMgOTIgMzI2LjUgOTYuODY2OSAzMjYuNSAyMjBDMzI2LjUgMzQzLjEzMyAyNDMgMzQ4IDI0MyAzNDhIMjc3QzMzMi4yMjggMzQ4IDM3NyAzMDMuMjI4IDM3NyAyNDhWMTkyWiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC40MiIvPgo8cGF0aCBkPSJNMTQ0IDMxOEM4OSAzMTggNDUgMjc0IDQ1IDIxOUM0NSAxNjQgODkgMTIwIDE0NCAxMjBIMjYwQzMxNSAxMjAgMzU5IDE2NCAzNTkgMjE5QzM1OSAyNzQgMzE1IDMxOCAyNjAgMzE4SDE0NFpNMjU3IDI4M0MyOTMgMjgzIDMyMSAyNTQgMzIxIDIxOUMzMjEgMTgzIDI5MiAxNTUgMjU3IDE1NUgxNDdDMTExIDE1NSA4MyAxODQgODMgMjE5QzgzIDI1NCAxMTIgMjgzIDE0NyAyODNIMjU3WiIgZmlsbD0iI0M3NDYzNCIvPgo8Y2lyY2xlIGN4PSIxNDEiIGN5PSIyMTkiIHI9IjIxIiBmaWxsPSJ3aGl0ZSIvPgo8Y2lyY2xlIGN4PSIyNjQiIGN5PSIyMTkiIHI9IjIxIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K', // Path to the logo image
                launch: 'data:image/svg+xml;base64, PHN2ZyB3aWR0aD0iNDA0IiBoZWlnaHQ9IjM2OCIgdmlld0JveD0iMCAwIDQwNCAzNjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjEzNiIgeT0iMzM1IiB3aWR0aD0iMTMyIiBoZWlnaHQ9IjMzIiBmaWxsPSIjRjlCQTMwIi8+CjxwYXRoIGQ9Ik0xNTMuMjU2IDIuMzY3NEMxNjMuODkgLTIuMjYwNDcgMTc2LjI2MyAyLjYwODgyIDE4MC44OTEgMTMuMjQzNEMxODQuNTM5IDIxLjYyNzMgMTgyLjI4MyAzMS4wODk1IDE3NS45NTUgMzYuOTg3NUwxOTEuMDgxIDcxLjc0NjNDMTkzLjM3NCA3MS4zOTk2IDE5NS43MSA3MS4xNjYxIDE5OC4wODIgNzEuMDUxVjU3LjYzODlDMTkzLjk1NyA1Ni4xODAzIDE5MSA1Mi4yNDgzIDE5MSA0Ny42MjMzQzE5MSA0MS43NTYyIDE5NS43NTYgMzcuMDAwMiAyMDEuNjIzIDM3LjAwMDJDMjA3LjQ5IDM3LjAwMDIgMjEyLjI0NiA0MS43NTYzIDIxMi4yNDYgNDcuNjIzM0MyMTIuMjQ2IDUyLjA1NjkgMjA5LjUyOSA1NS44NTM4IDIwNS42NyA1Ny40NDU1VjcxLjA5MUMyMDguMzkxIDcxLjI1MjUgMjExLjA2NCA3MS41NzAzIDIxMy42NzcgNzIuMDM1NEwyMjguMDYzIDM4Ljk3NThDMjIxLjczNiAzMy4wNzc3IDIxOS40ODEgMjMuNjE0NCAyMjMuMTI5IDE1LjIzMDdDMjI3Ljc1NyA0LjU5NjE4IDI0MC4xMyAtMC4yNzMxODcgMjUwLjc2NSA0LjM1NDcxQzI2MS4zOTkgOC45ODI2OSAyNjYuMjY5IDIxLjM1NTkgMjYxLjY0MSAzMS45OTA1QzI1OC4xNDMgNDAuMDI3OCAyNTAuMjIxIDQ0Ljc2OTUgMjQxLjk3IDQ0LjYwOTZMMjI4LjE2MSA3Ni4zNDFDMjM0LjkzMSA3OS4yMzE1IDI0MS4wMTEgODMuMTg5NCAyNDYuMTI1IDg3Ljk2N0gyNzlDMzI4Ljg2NCA4Ny45NjcgMzcwLjIwMiAxMjQuNDY0IDM3Ny43NjIgMTcyLjIwMkMzOTIuNTU1IDE3NC4wNTMgNDA0IDE4Ni42NzMgNDA0IDIwMS45NjhWMjI5Ljk2OEM0MDQgMjQ0Ljk2MiAzOTMgMjU3LjM4NiAzNzguNjI5IDI1OS42MTJDMzc0LjI0NyAzMTAuNzkzIDMzMS4zMTYgMzUwLjk2NyAyNzkgMzUwLjk2N0gxMjNDNzAuNTUxNyAzNTAuOTY3IDI3LjUzNiAzMTAuNTkgMjMuMzM3OSAyNTkuMjI0QzkuOTc1ODcgMjU2LjE5NCAxLjExMDUxZS0wNyAyNDQuMjQ3IDAgMjI5Ljk2OFYyMDEuOTY4QzAgMTg3LjM4OSAxMC4zOTk0IDE3NS4yNCAyNC4xODQ2IDE3Mi41MzJDMzEuNjA1OSAxMjQuNjMzIDczLjAyMDggODcuOTY3IDEyMyA4Ny45NjdIMTU2Ljg3NUMxNjIuMzg4IDgyLjgxNjUgMTY5LjAyNCA3OC42MTg4IDE3Ni40MzcgNzUuNjgzOEwxNjIuMDQ4IDQyLjYyMjNDMTUzLjc5NyA0Mi43ODEyIDE0NS44NzcgMzguMDM4OCAxNDIuMzggMzAuMDAyMkMxMzcuNzUyIDE5LjM2NzYgMTQyLjYyMSA2Ljk5NTMgMTUzLjI1NiAyLjM2NzRaIiBmaWxsPSIjRjlCQTMwIi8+CjxwYXRoIGQ9Ik0yNi41IDE5MkMyNi41IDEzNi43NzIgNzEuMjcxNSA5MiAxMjYuNSA5MkgxNjAuNUMxNjAuNSA5MiA3NyA5Ni44NjY5IDc3IDIyMEM3NyAzNDMuMTMzIDE2MC41IDM0OCAxNjAuNSAzNDhIMTI2LjVDNzEuMjcxNSAzNDggMjYuNSAzMDMuMjI4IDI2LjUgMjQ4VjE5MloiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNDIiLz4KPHBhdGggZD0iTTkxIDIxOC41QzkxIDE5MC4wNTcgMTE0LjA1NyAxNjcgMTQyLjUgMTY3SDE0NUMxNDUgMTY3IDExMS4zNTEgMTY4Ljk1OCAxMTEuMzUxIDIxOC41QzExMS4zNTEgMjY4LjA0MiAxNDUgMjcwIDE0NSAyNzBIMTQyLjVDMTE0LjA1NyAyNzAgOTEgMjQ2Ljk0MyA5MSAyMTguNVYyMTguNVoiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNDIiLz4KPHBhdGggZD0iTTMxNCAyMTguNUMzMTQgMTkwLjA1NyAyOTAuOTQzIDE2NyAyNjIuNSAxNjdIMjYwQzI2MCAxNjcgMjkzLjY0OSAxNjguOTU4IDI5My42NDkgMjE4LjVDMjkzLjY0OSAyNjguMDQyIDI2MCAyNzAgMjYwIDI3MEgyNjIuNUMyOTAuOTQzIDI3MCAzMTQgMjQ2Ljk0MyAzMTQgMjE4LjVWMjE4LjVaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIwLjQyIi8+CjxwYXRoIGQ9Ik0zNzcgMTkyQzM3NyAxMzYuNzcyIDMzMi4yMjggOTIgMjc3IDkySDI0M0MyNDMgOTIgMzI2LjUgOTYuODY2OSAzMjYuNSAyMjBDMzI2LjUgMzQzLjEzMyAyNDMgMzQ4IDI0MyAzNDhIMjc3QzMzMi4yMjggMzQ4IDM3NyAzMDMuMjI4IDM3NyAyNDhWMTkyWiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC40MiIvPgo8cGF0aCBkPSJNMTQ0IDMxOEM4OSAzMTggNDUgMjc0IDQ1IDIxOUM0NSAxNjQgODkgMTIwIDE0NCAxMjBIMjYwQzMxNSAxMjAgMzU5IDE2NCAzNTkgMjE5QzM1OSAyNzQgMzE1IDMxOCAyNjAgMzE4SDE0NFpNMjU3IDI4M0MyOTMgMjgzIDMyMSAyNTQgMzIxIDIxOUMzMjEgMTgzIDI5MiAxNTUgMjU3IDE1NUgxNDdDMTExIDE1NSA4MyAxODQgODMgMjE5QzgzIDI1NCAxMTIgMjgzIDE0NyAyODNIMjU3WiIgZmlsbD0iI0M3NDYzNCIvPgo8Y2lyY2xlIGN4PSIxNDEiIGN5PSIyMTkiIHI9IjIxIiBmaWxsPSJ3aGl0ZSIvPgo8Y2lyY2xlIGN4PSIyNjQiIGN5PSIyMTkiIHI9IjIxIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K'
              },            
            i18n: {
                en: {
                    
                    audioResponseOff: 'Click to turn audio response on', // Tool tip for the speaker off button
                    audioResponseOn: 'Click to turn audio response off',  // Tool tip for the speaker on button   

                    chatTitle: 'Drive Agent',       // Replaces Chat
                    connected: 'Ready',            // Replaces Connected
                    inputPlaceholder: 'Type here', // Replaces Type a message
                    send: 'Send (Enter)'           // Replaces Send tool tip
                }
            },
            fontFamily: 'Oracle Sans, Helvetica Neue, Helvetica, Arial, sans-serif',
        
            enableAutocomplete: true,
            enableAutocompleteClientCache: true, // Minimizes server calls when user uses autocomplete feature
            enableBotAudioResponse: true,    
            enableClearMessage: true,
            enableSpeech: true,   
		};

		// Initialize SDK
		if (isClientAuthEnabled) {
			Bots = new WebSDK(chatWidgetSettings, generateToken);
		} else {
			Bots = new WebSDK(chatWidgetSettings);
		}

		// Connect to the ODA
		Bots.connect();

		// Create global object to refer Bots
		window[name] = Bots;

		var isHandled = false;
		//var message = "Welcome to CWT Chatbot, how can I help you today?";
		var message = "Hi";

		Bots.on(WebSDK.EVENT.WIDGET_OPENED, function () {
			if (!isHandled && Bots.isConnected() && !Bots.getConversationHistory().messagesCount) {
				Bots.sendMessage(message, { hidden: true });
				isHandled = true;
			}
		});

		Bots.on(WebSDK.EVENT.NETWORK, function (state) {
			if (!isHandled && Bots.isConnected() && Bots.isChatOpened() && !Bots.getConversationHistory().messagesCount) {
				Bots.sendMessage(message, { hidden: true });
				isHandled = true;
			}
		});

	}, 0);
};
